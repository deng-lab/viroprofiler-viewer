
<!-- README.md is generated from README.Rmd. Please edit that file -->

# vpfkit

<!-- badges: start -->
<!-- badges: end -->

The `vpfkit` (short for “ViroProfiler Tookit”) R package is designed for
downstream analyses of
[ViroProfiler](https://github.com/deng-lab/viroprofiler) results in R.
It contains functions for preprocessing data generated from multiple
ViroProfiler steps, and a Shiny APP called ViroProfiler-viewer for
visualizing and manipulating results interactively in a web page.
ViroProfiler-viewer allows users to filter viral contigs based on their
length, quality, and other annotations such as taxonomy, host, and
replication type. In addition, a TreeSummarizedExperiment object file
can be generated as inputs for downstream analyses in R. In order to use
the APP, please upload the `viroprofiler_output.RData` file generated by
the ViroProfiler pipeline.

## Installation

You can install vpfkit like so:

``` r
# FILL THIS IN! HOW CAN PEOPLE INSTALL YOUR DEV PACKAGE?
install.packages("devtools")
devtools::install_github("deng-lab/vpfkit")
```

## How to run

Due to the computation resource limitation of the cloud service, it is
highly recommened to run ViroProfiler-viewer on your local computer. You
could use one of following approaches,

### Using Docker image (recommended)

``` sh
docker run --rm denglab/vpfkit:latest

# If you want to use JBrowse, you need to mount the JBrowse folder
# docker run --rm -v /path/to/JBrowse_data:/srv/shiny-server/JBrowser_data denglab/viroprofiler-viewer:latest
```

### Run from GitHub

``` sh
# You need to install dependent packages manually
R -e "shiny::runGitHub('vpfkit', 'deng-lab')"
```

### Run a cloned version

``` sh
git clone https://github.com/deng-lab/vpfkit
R -e "shiny::runApp('vpfkit')"
```

### Online version (not recommended)

<https://deng-lab.shinyapps.io/vpfkit/>

JBrowse is not supported in the online version due to limitation of
shinyapps.io. Please use the Docker or local version if you want to use
JBrowse.
